<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Documentation ‚Äì Quantum Investor Digest</title>
    <meta name="description" content="Technical documentation for the Quantum Investor Digest AI-managed portfolio: architecture, data pipeline, and contributing guide.">
    <meta name="author" content="Michael Gavrilov">
    <meta name="theme-color" content="#000000">
    <meta http-equiv="X-Content-Type-Options" content="nosniff">
    <meta http-equiv="X-Frame-Options" content="SAMEORIGIN">
    <meta http-equiv="Content-Security-Policy" content="default-src 'self'; script-src 'self' 'nonce-qi123' 'unsafe-inline' https://www.googletagmanager.com https://www.google-analytics.com https://cdn.jsdelivr.net https://cdnjs.cloudflare.com https://unpkg.com; style-src 'self' 'unsafe-inline' https://fonts.googleapis.com https://cdn.jsdelivr.net https://cdnjs.cloudflare.com; img-src 'self' data: https: http:; font-src 'self' data: https://fonts.gstatic.com https://cdn.jsdelivr.net https://cdnjs.cloudflare.com; connect-src 'self' https://www.google-analytics.com https://stats.g.doubleclick.net; frame-src 'self' https://www.youtube.com https://player.vimeo.com; frame-ancestors 'self'; base-uri 'self'; form-action 'self';">
    <meta name="referrer" content="strict-origin-when-cross-origin">
    <link rel="canonical" href="https://quantuminvestor.net/docs.html">
    <link rel="icon" href="Media/favicon.ico" type="image/x-icon">
    <meta property="og:type" content="website">
    <meta property="og:url" content="https://quantuminvestor.net/docs.html">
    <meta property="og:title" content="Documentation ‚Äì Quantum Investor Digest">
    <meta property="og:description" content="Technical deep-dive into the AI-managed portfolio engine and how to contribute.">
    <meta property="og:image" content="https://quantuminvestor.net/Media/OG-Image.png">
    <meta name="twitter:card" content="summary_large_image">
    <meta name="twitter:site" content="@qid2025">
    <meta name="twitter:title" content="Documentation ‚Äì Quantum Investor Digest">
    <meta name="twitter:description" content="Technical deep-dive into the AI-managed portfolio engine and how to contribute.">
    <meta name="twitter:image" content="https://quantuminvestor.net/Media/OG-Image.png">
    <link rel="stylesheet" href="styles.css">
    <script src="js/template-loader.js" defer nonce="qi123"></script>
    <script src="js/mobile-menu.js" defer nonce="qi123"></script>
    <script type="application/ld+json" nonce="qi123">
    {
      "@context": "https://schema.org",
      "@type": "TechArticle",
      "headline": "Quantum Investor Digest Documentation",
      "description": "Technical documentation for the Quantum Investor Digest AI-managed portfolio: architecture, data pipeline, and contributing guide.",
      "author": {"@type": "Person", "name": "Michael Gavrilov"},
      "url": "https://quantuminvestor.net/docs.html",
      "publisher": {
        "@type": "Organization",
        "name": "Quantum Investor Digest",
        "logo": {"@type": "ImageObject", "url": "https://quantuminvestor.net/Media/LogoB.webp"}
      }
    }
    </script>
</head>
<body data-theme="default">
    <a href="#main-content" class="skip-link">Skip to main content</a>
    <!-- Header -->
    <div data-template="header" data-root-path=""></div>

    <main id="main-content" class="container mx-auto px-4 py-12" role="main">
        <article class="max-w-3xl mx-auto max-w-none">
            <header class="mb-12 docs-hero">
                <div class="docs-hero-inner">
                    <div>
                        <div class="docs-hero-pill">
                            <span class="docs-hero-pill-dot" aria-hidden="true"></span>
                            <span>Docs ¬∑ Quantum Investor Digest</span>
                        </div>
                        <h1 class="docs-hero-title font-bold">Documentation &amp; System Blueprint</h1>
                        <p class="docs-hero-subtitle text-lg">A technical map of how the GenAI-managed portfolio is wired together ‚Äì from raw market data to the weekly posts you read.</p>
                    </div>
                </div>
            </header>

            <section class="mb-12" aria-labelledby="how-it-works-heading">
                <h2 id="how-it-works-heading" class="text-2xl font-bold mb-4">How It Works ‚Äì Technical Deep Dive</h2>
                <p class="mb-4">Quantum Investor Digest is a fully automated, AI-assisted content pipeline that produces a weekly performance update for the GenAI-managed stock portfolio. The system is orchestrated by a Python script, <code>scripts/portfolio_automation.py</code>, which coordinates data ingestion, analysis, AI calls, and HTML generation.</p>
                <h3 class="text-xl font-semibold mb-3">High-Level Architecture</h3>
                <ul class="list-disc list-inside mb-4">
                    <li><strong>Data Layer</strong> ‚Äì Historical prices, benchmarks, and portfolio history live in the <code>Data/</code> directory, versioned by week (<code>Data/W1</code>, <code>Data/W2</code>, ...).</li>
                    <li><strong>AI Layer</strong> ‚Äì A sequence of prompts (Prompt A ‚Üí B ‚Üí C ‚Üí D) run against OpenAI models to generate narrative, SEO metadata, and visuals.</li>
                    <li><strong>Presentation Layer</strong> ‚Äì Final posts are emitted as static HTML into <code>Posts/</code>, styled with <code>styles.css</code> and hydrated with small JS utilities like <code>tldr.js</code>.</li>
                </ul>

                <h3 class="text-xl font-semibold mb-3">Weekly Pipeline</h3>
                <ol class="list-decimal list-inside mb-4">
                    <li><strong>Run the Automation Script</strong> ‚Äì Execute <code>portfolio_automation.py</code> with a target week number and data source (LLM or Alpha Vantage).</li>
                    <li><strong>Update <code>master.json</code></strong> ‚Äì Either the AI (Prompt A) or Alpha Vantage updates the structured portfolio data for the new week.</li>
                    <li><strong>Generate Narrative &amp; SEO</strong> ‚Äì Prompt B produces <code>narrative.html</code> and <code>seo.json</code> from <code>master.json</code>.</li>
                    <li><strong>Create Visuals</strong> ‚Äì Prompt C generates a performance table and normalized performance chart.</li>
                    <li><strong>Assemble Final Post</strong> ‚Äì Prompt D stitches everything into a single HTML file, and the script standardizes the <code>&lt;head&gt;</code> (CSP, JSON-LD, shared scripts).</li>
                    <li><strong>Regenerate Index</strong> ‚Äì The posts index (<code>Posts/posts.html</code>) is rebuilt from the current set of weekly posts.</li>
                </ol>

                <h3 class="text-xl font-semibold mb-3">Security &amp; Performance Hardening</h3>
                <p class="mb-3">The site is hardened as a static, CSP-protected deployment:</p>
                <ul class="list-disc list-inside mb-4">
                    <li><strong>Content Security Policy</strong> ‚Äì A blog-friendly CSP allows inline styles, popular CDNs (jsdelivr, cdnjs), Google Analytics, and Google Fonts, while maintaining nonce-based script validation and blocking unauthorized external resources.</li>
                    <li><strong>Static Generation</strong> ‚Äì All weekly posts are pre-rendered HTML files, reducing attack surface and improving performance.</li>
                    <li><strong>Image Optimization</strong> ‚Äì Weekly hero and snippet images are generated with Pillow and exported as optimized WEBP/PNG assets.</li>
                    <li><strong>Accessibility</strong> ‚Äì Skip links, semantic headings, and ARIA attributes make the content screen-reader friendly.</li>
                </ul>
            </section>

            <section class="mb-12" aria-labelledby="tools-stack-heading">
                <h2 id="tools-stack-heading" class="text-2xl font-bold mb-4">Tools &amp; Stack</h2>
                <p class="mb-4">Here are the core tools, products, and technologies that power this project end-to-end &mdash; from data collection and AI orchestration to writing, automation, and deployment.</p>

                <div class="grid gap-4 sm:grid-cols-2">
                    <div class="flex items-start p-4 border border-gray-800 rounded-lg bg-black/40">
                        <div class="mr-3 text-xl" aria-hidden="true">
                            üíª
                        </div>
                        <div>
                            <h3 class="font-semibold mb-1">Python &amp; Data Stack</h3>
                            <p class="text-sm text-gray-300 mb-1">Python, pandas, and NumPy for portfolio math, data munging, and weekly pipeline logic.</p>
                            <p class="text-xs text-gray-500">Files: <code>scripts/portfolio_automation.py</code>, <code>Data/</code> directory.</p>
                        </div>
                    </div>

                    <div class="flex items-start p-4 border border-gray-800 rounded-lg bg-black/40">
                        <div class="mr-3 text-xl" aria-hidden="true">
                            ü§ñ
                        </div>
                        <div>
                            <h3 class="font-semibold mb-1">LLM &amp; Prompting</h3>
                            <p class="text-sm text-gray-300 mb-1">OpenAI models via API for Prompts A‚ÄìD to generate structured data, narrative, SEO, and visuals.</p>
                            <p class="text-xs text-gray-500">Specs: Prompt gallery below, <code>Prompt/Prompt-A‚ÄìD</code> prompt documents.</p>
                        </div>
                    </div>

                    <div class="flex items-start p-4 border border-gray-800 rounded-lg bg-black/40">
                        <div class="mr-3 text-xl" aria-hidden="true">
                            üìä
                        </div>
                        <div>
                            <h3 class="font-semibold mb-1">Market Data &amp; Benchmarks</h3>
                            <p class="text-sm text-gray-300 mb-1">Alpha Vantage and structured CSV/JSON files for prices, history, and benchmark series.</p>
                            <p class="text-xs text-gray-500">Files: <code>Data/master.json</code>, weekly <code>Data/W*</code> snapshots.</p>
                        </div>
                    </div>

                    <div class="flex items-start p-4 border border-gray-800 rounded-lg bg-black/40">
                        <div class="mr-3 text-xl" aria-hidden="true">
                            üñºÔ∏è
                        </div>
                        <div>
                            <h3 class="font-semibold mb-1">Static Site &amp; Media</h3>
                            <p class="text-sm text-gray-300 mb-1">Hand-crafted HTML, a shared <code>styles.css</code>, and Python-powered image generation for posts.</p>
                            <p class="text-xs text-gray-500">Files: <code>index.html</code>, <code>Posts/</code>, <code>Media/PostImages/</code>, <code>scripts/hero_image_generator.py</code>.</p>
                        </div>
                    </div>

                    <div class="flex items-start p-4 border border-gray-800 rounded-lg bg-black/40">
                        <div class="mr-3 text-xl" aria-hidden="true">
                            üß©
                        </div>
                        <div>
                            <h3 class="font-semibold mb-1">Automation &amp; Snippets</h3>
                            <p class="text-sm text-gray-300 mb-1">Custom Python utilities to regenerate weekly posts, snippet cards, and index pages with one command.</p>
                            <p class="text-xs text-gray-500">Files: <code>scripts/snippet_card_generator.py</code>, <code>test_automation.py</code>.</p>
                        </div>
                    </div>

                    <div class="flex items-start p-4 border border-gray-800 rounded-lg bg-black/40">
                        <div class="mr-3 text-xl" aria-hidden="true">
                            üß™
                        </div>
                        <div>
                            <h3 class="font-semibold mb-1">Editing &amp; Workflow</h3>
                            <p class="text-sm text-gray-300 mb-1">VS Code, GitHub, and a simple local Python environment for iterative prompt and pipeline tuning.</p>
                            <p class="text-xs text-gray-500">See <code>automation_setup.md</code> for a detailed setup walkthrough.</p>
                        </div>
                    </div>
                </div>
            </section>

            <section class="mb-12" aria-labelledby="strategy-methodology-heading">
                <h2 id="strategy-methodology-heading" class="text-2xl font-bold mb-4">Strategy &amp; Methodology</h2>
                <p class="mb-4">The GenAI-managed portfolio is intentionally simple, rules-based, and transparent. The goal is not to maximize short-term returns at any cost, but to create a repeatable, inspectable process that balances learning value with real-world constraints.</p>

                <h3 class="text-xl font-semibold mb-3">Core Objectives</h3>
                <ul class="list-disc list-inside mb-4">
                    <li>Track how a GenAI-driven stock selection process behaves over time.</li>
                    <li>Stay comparable to broad market benchmarks (S&amp;P 500, Bitcoin).</li>
                    <li>Prioritize clarity, auditability, and educational value over complexity.</li>
                </ul>

                <h3 class="text-xl font-semibold mb-3">Portfolio Construction</h3>
                <ul class="list-disc list-inside mb-4">
                    <li><strong>Universe</strong> ‚Äì Large, liquid U.S. stocks with reliable market data.</li>
                    <li><strong>Position Sizing</strong> ‚Äì Equal-weight starting allocations with small, bounded adjustments week-to-week.</li>
                    <li><strong>Turnover Constraints</strong> ‚Äì Caps on the number of changes per week to avoid over-trading and narrative whiplash.</li>
                    <li><strong>Cash Handling</strong> ‚Äì Small residual cash balances are allowed; the portfolio is kept mostly invested.</li>
                </ul>

                <h3 class="text-xl font-semibold mb-3">GenAI Decision Process</h3>
                <ul class="list-disc list-inside mb-4">
                    <li><strong>Input Signals</strong> ‚Äì Recent returns, drawdowns, sector tilts, and simple risk flags derived from <code>master.json</code>.</li>
                    <li><strong>OpenAI Model Role</strong> ‚Äì The OpenAI model acts as an analyst and editor, proposing changes and explaining the rationale, but is constrained by explicit rules in the prompts.</li>
                    <li><strong>Guardrails</strong> ‚Äì Prompts discourage concentrated bets, unsupported macro calls, and excessive turnover. The system favors incremental adjustments.</li>
                    <li><strong>Human Oversight</strong> ‚Äì Final allocations are always reviewed by a human before being written to production data.</li>
                </ul>

                <h3 class="text-xl font-semibold mb-3">Risk &amp; Benchmarking</h3>
                <ul class="list-disc list-inside mb-4">
                    <li><strong>Primary Benchmark</strong> ‚Äì S&amp;P 500 total return, representing a diversified U.S. equity portfolio.</li>
                    <li><strong>Secondary Benchmark</strong> ‚Äì Bitcoin, to illustrate contrast with a high-volatility, single-asset exposure.</li>
                    <li><strong>Risk Framing</strong> ‚Äì The project surfaces drawdowns, volatility, and tracking error in plain language instead of optimizing against a single risk metric.</li>
                    <li><strong>Time Horizon</strong> ‚Äì The focus is on multi-quarter behavior rather than week-to-week wins.</li>
                </ul>

                <h3 class="text-xl font-semibold mb-3">Limitations &amp; Disclaimers</h3>
                <ul class="list-disc list-inside mb-4">
                    <li>The system is experimental and educational, not a production trading stack.</li>
                    <li>Backtests are minimal; performance is mostly ‚Äúlive‚Äù from the inception date.</li>
                    <li>Market data may contain errors or gaps; all numbers should be treated as approximate.</li>
                    <li>Nothing here is investment advice; readers should do their own research and consider their risk tolerance.</li>
                </ul>
                <p class="text-gray-400 text-sm">This section is intentionally high-level and will evolve over time as the prompts, data sources, and risk framing improve. When changes are made to the strategy or methodology, they are documented in the weekly posts and in the repository history.</p>
            </section>

            <section class="mb-12" aria-labelledby="prompt-gallery-heading">
                <h2 id="prompt-gallery-heading" class="text-2xl font-bold mb-4">Prompt Gallery (A‚ÄìD)</h2>
                <p class="mb-4 text-gray-400">
                    This gallery summarizes the four main prompts that power the GenAI-managed portfolio pipeline.
                    The text below is intentionally high-level and sanitized so the system can be shared and discussed
                    without exposing every implementation detail.
                </p>
                <!-- Prompt A -->
                <details class="mb-4 border border-gray-800 rounded-lg">
                    <summary class="p-4 cursor-pointer text-lg font-semibold">Prompt A ‚Äì Data Engine</summary>
                    <div class="p-6 pt-2">
                        <p class="mb-3">
                            Prompt A turns raw market data into a structured weekly snapshot of the portfolio. It updates
                            <code>master.json</code> with current prices, weekly and since-inception performance, benchmark
                            comparisons, and a normalized performance series for GenAI, S&amp;P 500, and Bitcoin.
                        </p>
                        <h4 class="font-semibold mb-1 text-sm tracking-tighter uppercase">Typical Input</h4>
                        <ul class="list-disc list-inside mb-3 text-sm">
                            <li>Previous week&rsquo;s <code>master.json</code> (portfolio history, holdings, benchmarks).</li>
                            <li>Latest prices and dates for each stock and benchmark.</li>
                            <li>Configuration notes (current week number, evaluation date overrides).</li>
                        </ul>
                        <h4 class="font-semibold mb-1 text-sm tracking-tighter uppercase">Typical Output</h4>
                        <ul class="list-disc list-inside mb-0 text-sm">
                            <li>Updated <code>master.json</code> with a new week appended to portfolio history.</li>
                            <li>Recalculated weekly and total % changes per stock and benchmark.</li>
                            <li>Normalized performance entries suitable for charting.</li>
                        </ul>
                    </div>
                </details>

                <!-- Prompt B -->
                <details class="mb-4 border border-gray-800 rounded-lg">
                    <summary class="p-4 cursor-pointer text-lg font-semibold">Prompt B ‚Äì Narrative Writer</summary>
                    <div class="p-6 pt-2">
                    <p class="mb-3">
                        Prompt B converts structured data into human-readable narrative. It writes the weekly article
                        body (<code>narrative.html</code>) and SEO metadata (<code>seo.json</code>) based on the
                        numbers in <code>master.json</code>.
                    </p>
                    <h4 class="font-semibold mb-1 text-sm tracking-tighter uppercase">Typical Input</h4>
                    <ul class="list-disc list-inside mb-3 text-sm">
                        <li>The latest <code>master.json</code> (portfolio totals, top movers, benchmarks, history).</li>
                        <li>High-level style instructions (tone, audience, structure).</li>
                    </ul>
                    <h4 class="font-semibold mb-1 text-sm tracking-tighter uppercase">Typical Output</h4>
                    <ul class="list-disc list-inside mb-0 text-sm">
                        <li><code>narrative.html</code>  a structured prose block with headings, paragraphs, and lists
                            describing weekly performance, risks, and outlook.</li>
                        <li><code>seo.json</code>  title, description, canonical URL, OG/Twitter fields for the week.</li>
                    </ul>
                    </div>
                </details>

                <!-- Prompt C -->
                <details class="mb-4 border border-gray-800 rounded-lg">
                    <summary class="p-4 cursor-pointer text-lg font-semibold">Prompt C ‚Äì Visual Generator</summary>
                    <div class="p-6 pt-2">
                    <p class="mb-3">
                        Prompt C focuses on visuals. It takes the numeric history and produces a performance snapshot
                        table and a normalized performance chart that compare the GenAI portfolio vs S&amp;P 500 and
                        Bitcoin.
                    </p>
                    <h4 class="font-semibold mb-1 text-sm tracking-tighter uppercase">Typical Input</h4>
                    <ul class="list-disc list-inside mb-3 text-sm">
                        <li>The same <code>master.json</code> used by Prompt B.</li>
                        <li>Layout expectations for the table and chart containers.</li>
                    </ul>
                    <h4 class="font-semibold mb-1 text-sm tracking-tighter uppercase">Typical Output</h4>
                    <ul class="list-disc list-inside mb-0 text-sm">
                        <li><code>performance_table.html</code>  responsive table markup summarizing key weekly metrics.</li>
                        <li><code>performance_chart.svg</code> (inside a container)  normalized performance lines with legend.</li>
                    </ul>
                    </div>
                </details>

                <!-- Prompt D -->
                <details class="mb-4 border border-gray-800 rounded-lg">
                    <summary class="p-4 cursor-pointer text-lg font-semibold">Prompt D ‚Äì Final Assembler</summary>
                    <div class="p-6 pt-2">
                    <p class="mb-3">
                        Prompt D is the final assembler. It combines the narrative, visuals, SEO metadata, and global
                        layout guidelines into a single, production-ready HTML page for the given week.
                    </p>
                    <h4 class="font-semibold mb-1 text-sm tracking-tighter uppercase">Typical Input</h4>
                    <ul class="list-disc list-inside mb-3 text-sm">
                        <li><code>narrative.html</code> from Prompt B.</li>
                        <li><code>performance_table.html</code> and <code>performance_chart.svg</code> from Prompt C.</li>
                        <li><code>seo.json</code> and a small set of site-wide design constraints.</li>
                    </ul>
                    <h4 class="font-semibold mb-1 text-sm tracking-tighter uppercase">Typical Output</h4>
                    <ul class="list-disc list-inside mb-0 text-sm">
                        <li>A complete weekly HTML post (e.g., <code>GenAi-Managed-Stocks-Portfolio-Week-5.html</code>)
                            with a standardized head, article structure, and content blocks in the right order.</li>
                    </ul>
                    </div>
                </details>

                <p class="text-gray-400 text-sm">
                    For implementation details, see the automation script at <code>scripts/portfolio_automation.py</code>,
                    which orchestrates Prompts A‚ÄìD and writes the generated artifacts into the <code>Data/</code> and
                    <code>Posts/</code> directories.
                </p>
            </section>
        </article>
    </main>

    <!-- Footer -->
    <div data-template="footer" data-root-path=""></div>
</body>
</html>
